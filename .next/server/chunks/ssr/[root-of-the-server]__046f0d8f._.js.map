{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 6, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"","debugId":null}},
    {"offset": {"line": 112, "column": 0}, "map": {"version":3,"sources":["file:///Users/haotian/mini/code/MinecraftMe-AI-Photo-Blender/src/lib/blog.ts"],"sourcesContent":["import fs from 'fs';\nimport path from 'path';\nimport matter from 'gray-matter';\nimport { remark } from 'remark';\nimport html from 'remark-html';\n\nexport interface BlogPost {\n  slug: string;\n  title: string;\n  description: string;\n  date: string;\n  coverImage: string;\n  tags?: string[];\n  content: string;\n}\n\nconst postsDirectory = path.join(process.cwd(), 'src/content/blog');\n\nexport async function getBlogPosts(): Promise<BlogPost[]> {\n  // 确保只在服务端运行\n  if (typeof window !== 'undefined') {\n    return [];\n  }\n\n  // 确保目录存在\n  if (!fs.existsSync(postsDirectory)) {\n    return [];\n  }\n\n  const fileNames = fs.readdirSync(postsDirectory);\n  const allPostsData = await Promise.all(\n    fileNames\n      .filter((fileName) => fileName.endsWith('.md'))\n      .map(async (fileName) => {\n        const slug = fileName.replace(/\\.md$/, '');\n        return await getBlogPost(slug);\n      })\n  );\n\n  // 按日期排序，最新的在前\n  return allPostsData\n    .filter((post): post is BlogPost => post !== null)\n    .sort((a, b) => (a.date < b.date ? 1 : -1));\n}\n\nexport async function getBlogPost(slug: string): Promise<BlogPost | null> {\n  // 确保只在服务端运行\n  if (typeof window !== 'undefined') {\n    return null;\n  }\n\n  try {\n    const fullPath = path.join(postsDirectory, `${slug}.md`);\n    \n    if (!fs.existsSync(fullPath)) {\n      return null;\n    }\n\n    const fileContents = fs.readFileSync(fullPath, 'utf8');\n    const { data, content } = matter(fileContents);\n\n    // 使用remark将Markdown转换为HTML\n    const processedContent = await remark()\n      .use(html)\n      .process(content);\n    const contentHtml = processedContent.toString();\n\n    return {\n      slug,\n      title: data.title,\n      description: data.description,\n      date: data.date,\n      coverImage: data.coverImage,\n      tags: data.tags || [],\n      content: contentHtml,\n    };\n  } catch (error) {\n    console.error(`Error reading blog post ${slug}:`, error);\n    return null;\n  }\n}\n\nexport async function getLatestBlogPosts(count: number = 3): Promise<BlogPost[]> {\n  const posts = await getBlogPosts();\n  return posts.slice(0, count);\n} "],"names":[],"mappings":";;;;;AAAA;AACA;AACA;AACA;AACA;;;;;;AAYA,MAAM,iBAAiB,iGAAA,CAAA,UAAI,CAAC,IAAI,CAAC,QAAQ,GAAG,IAAI;AAEzC,eAAe;IACpB,YAAY;IACZ,uCAAmC;;IAEnC;IAEA,SAAS;IACT,IAAI,CAAC,6FAAA,CAAA,UAAE,CAAC,UAAU,CAAC,iBAAiB;QAClC,OAAO,EAAE;IACX;IAEA,MAAM,YAAY,6FAAA,CAAA,UAAE,CAAC,WAAW,CAAC;IACjC,MAAM,eAAe,MAAM,QAAQ,GAAG,CACpC,UACG,MAAM,CAAC,CAAC,WAAa,SAAS,QAAQ,CAAC,QACvC,GAAG,CAAC,OAAO;QACV,MAAM,OAAO,SAAS,OAAO,CAAC,SAAS;QACvC,OAAO,MAAM,YAAY;IAC3B;IAGJ,cAAc;IACd,OAAO,aACJ,MAAM,CAAC,CAAC,OAA2B,SAAS,MAC5C,IAAI,CAAC,CAAC,GAAG,IAAO,EAAE,IAAI,GAAG,EAAE,IAAI,GAAG,IAAI,CAAC;AAC5C;AAEO,eAAe,YAAY,IAAY;IAC5C,YAAY;IACZ,uCAAmC;;IAEnC;IAEA,IAAI;QACF,MAAM,WAAW,iGAAA,CAAA,UAAI,CAAC,IAAI,CAAC,gBAAgB,GAAG,KAAK,GAAG,CAAC;QAEvD,IAAI,CAAC,6FAAA,CAAA,UAAE,CAAC,UAAU,CAAC,WAAW;YAC5B,OAAO;QACT;QAEA,MAAM,eAAe,6FAAA,CAAA,UAAE,CAAC,YAAY,CAAC,UAAU;QAC/C,MAAM,EAAE,IAAI,EAAE,OAAO,EAAE,GAAG,CAAA,GAAA,uIAAA,CAAA,UAAM,AAAD,EAAE;QAEjC,2BAA2B;QAC3B,MAAM,mBAAmB,MAAM,CAAA,GAAA,+HAAA,CAAA,SAAM,AAAD,IACjC,GAAG,CAAC,8IAAA,CAAA,UAAI,EACR,OAAO,CAAC;QACX,MAAM,cAAc,iBAAiB,QAAQ;QAE7C,OAAO;YACL;YACA,OAAO,KAAK,KAAK;YACjB,aAAa,KAAK,WAAW;YAC7B,MAAM,KAAK,IAAI;YACf,YAAY,KAAK,UAAU;YAC3B,MAAM,KAAK,IAAI,IAAI,EAAE;YACrB,SAAS;QACX;IACF,EAAE,OAAO,OAAO;QACd,QAAQ,KAAK,CAAC,CAAC,wBAAwB,EAAE,KAAK,CAAC,CAAC,EAAE;QAClD,OAAO;IACT;AACF;AAEO,eAAe,mBAAmB,QAAgB,CAAC;IACxD,MAAM,QAAQ,MAAM;IACpB,OAAO,MAAM,KAAK,CAAC,GAAG;AACxB","debugId":null}},
    {"offset": {"line": 184, "column": 0}, "map": {"version":3,"sources":["file:///Users/haotian/mini/code/MinecraftMe-AI-Photo-Blender/src/app/blog/%5Bslug%5D/page.tsx"],"sourcesContent":["import { Metadata } from 'next';\nimport { notFound } from 'next/navigation';\nimport Image from 'next/image';\nimport { getBlogPost, getBlogPosts } from '@/lib/blog';\n\ninterface BlogPostPageProps {\n  params: {\n    slug: string;\n  };\n}\n\nexport async function generateStaticParams() {\n  const posts = await getBlogPosts();\n  return posts.map((post) => ({\n    slug: post.slug,\n  }));\n}\n\nexport async function generateMetadata({ params }: BlogPostPageProps): Promise<Metadata> {\n  const post = await getBlogPost(params.slug);\n  \n  if (!post) {\n    return {\n      title: 'Post Not Found',\n    };\n  }\n\n  return {\n    title: `${post.title} - MinecraftStyle.online Blog`,\n    description: post.description,\n    openGraph: {\n      title: post.title,\n      description: post.description,\n      images: [post.coverImage],\n      type: 'article',\n      publishedTime: post.date,\n    },\n  };\n}\n\nexport default async function BlogPostPage({ params }: BlogPostPageProps) {\n  const post = await getBlogPost(params.slug);\n\n  if (!post) {\n    notFound();\n  }\n\n  return (\n    <div className=\"min-h-screen bg-gradient-to-br from-purple-50 to-purple-100\">\n      <div className=\"container mx-auto px-4 py-16\">\n        <article className=\"max-w-4xl mx-auto bg-white rounded-lg shadow-lg overflow-hidden\">\n          {/* Cover Image */}\n          <div className=\"relative h-64 md:h-96\">\n            <Image\n              src={post.coverImage}\n              alt={post.title}\n              fill\n              className=\"object-cover\"\n              priority\n            />\n          </div>\n\n          {/* Article Content */}\n          <div className=\"p-8\">\n            {/* Header */}\n            <header className=\"mb-8\">\n              <div className=\"flex items-center gap-4 text-sm text-gray-500 mb-4\">\n                <time dateTime={post.date}>\n                  {new Date(post.date).toLocaleDateString('en-US', {\n                    year: 'numeric',\n                    month: 'long',\n                    day: 'numeric',\n                  })}\n                </time>\n                {post.tags && (\n                  <div className=\"flex gap-2\">\n                    {post.tags.map((tag) => (\n                      <span\n                        key={tag}\n                        className=\"px-2 py-1 bg-purple-100 text-purple-700 rounded-full text-xs\"\n                      >\n                        {tag}\n                      </span>\n                    ))}\n                  </div>\n                )}\n              </div>\n              \n              <h1 className=\"text-3xl md:text-4xl font-bold text-[#22223b] mb-4\">\n                {post.title}\n              </h1>\n              \n              <p className=\"text-lg text-gray-600\">\n                {post.description}\n              </p>\n            </header>\n\n            {/* Article Body */}\n            <div className=\"prose prose-lg max-w-none\">\n              <div dangerouslySetInnerHTML={{ __html: post.content }} />\n            </div>\n          </div>\n        </article>\n      </div>\n    </div>\n  );\n} "],"names":[],"mappings":";;;;;;AACA;AAAA;AACA;AACA;;;;;AAQO,eAAe;IACpB,MAAM,QAAQ,MAAM,CAAA,GAAA,kHAAA,CAAA,eAAY,AAAD;IAC/B,OAAO,MAAM,GAAG,CAAC,CAAC,OAAS,CAAC;YAC1B,MAAM,KAAK,IAAI;QACjB,CAAC;AACH;AAEO,eAAe,iBAAiB,EAAE,MAAM,EAAqB;IAClE,MAAM,OAAO,MAAM,CAAA,GAAA,kHAAA,CAAA,cAAW,AAAD,EAAE,OAAO,IAAI;IAE1C,IAAI,CAAC,MAAM;QACT,OAAO;YACL,OAAO;QACT;IACF;IAEA,OAAO;QACL,OAAO,GAAG,KAAK,KAAK,CAAC,6BAA6B,CAAC;QACnD,aAAa,KAAK,WAAW;QAC7B,WAAW;YACT,OAAO,KAAK,KAAK;YACjB,aAAa,KAAK,WAAW;YAC7B,QAAQ;gBAAC,KAAK,UAAU;aAAC;YACzB,MAAM;YACN,eAAe,KAAK,IAAI;QAC1B;IACF;AACF;AAEe,eAAe,aAAa,EAAE,MAAM,EAAqB;IACtE,MAAM,OAAO,MAAM,CAAA,GAAA,kHAAA,CAAA,cAAW,AAAD,EAAE,OAAO,IAAI;IAE1C,IAAI,CAAC,MAAM;QACT,CAAA,GAAA,qLAAA,CAAA,WAAQ,AAAD;IACT;IAEA,qBACE,8OAAC;QAAI,WAAU;kBACb,cAAA,8OAAC;YAAI,WAAU;sBACb,cAAA,8OAAC;gBAAQ,WAAU;;kCAEjB,8OAAC;wBAAI,WAAU;kCACb,cAAA,8OAAC,6HAAA,CAAA,UAAK;4BACJ,KAAK,KAAK,UAAU;4BACpB,KAAK,KAAK,KAAK;4BACf,IAAI;4BACJ,WAAU;4BACV,QAAQ;;;;;;;;;;;kCAKZ,8OAAC;wBAAI,WAAU;;0CAEb,8OAAC;gCAAO,WAAU;;kDAChB,8OAAC;wCAAI,WAAU;;0DACb,8OAAC;gDAAK,UAAU,KAAK,IAAI;0DACtB,IAAI,KAAK,KAAK,IAAI,EAAE,kBAAkB,CAAC,SAAS;oDAC/C,MAAM;oDACN,OAAO;oDACP,KAAK;gDACP;;;;;;4CAED,KAAK,IAAI,kBACR,8OAAC;gDAAI,WAAU;0DACZ,KAAK,IAAI,CAAC,GAAG,CAAC,CAAC,oBACd,8OAAC;wDAEC,WAAU;kEAET;uDAHI;;;;;;;;;;;;;;;;kDAUf,8OAAC;wCAAG,WAAU;kDACX,KAAK,KAAK;;;;;;kDAGb,8OAAC;wCAAE,WAAU;kDACV,KAAK,WAAW;;;;;;;;;;;;0CAKrB,8OAAC;gCAAI,WAAU;0CACb,cAAA,8OAAC;oCAAI,yBAAyB;wCAAE,QAAQ,KAAK,OAAO;oCAAC;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAOnE","debugId":null}}]
}